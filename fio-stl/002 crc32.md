## CRC32

```c
#define FIO_CRC32
#include "fio-stl.h"
```

Provides fast CRC32 computation (ITU-T V.42 / ISO 3309 / gzip polynomial `0xEDB88320`) using slicing-by-8 for ~4-8x throughput over byte-at-a-time lookup. Used by gzip, PNG, and many other formats.

**Note:** this is **NOT** CRC32-C (Castagnoli). Hardware CRC32 instructions on ARM (ARMv8 CRC extension) and x86 (SSE4.2) compute CRC32-C with a different polynomial (`0x82F63B78`) and cannot be used here.

**Note:** this module is automatically included when `FIO_DEFLATE` is defined.

### CRC32 API

#### `fio_crc32`

```c
uint32_t fio_crc32(const void *data, size_t len, uint32_t initial_crc);
```

Computes CRC32 over `len` bytes starting at `data`.

* `data`        - pointer to input bytes.
* `len`         - number of bytes to process.
* `initial_crc` - pass `0` for a new computation, or a previous return value to continue an incremental CRC32 over multiple buffers.

**Returns:** the CRC32 checksum as a `uint32_t`.

Uses slicing-by-8 internally (~4-8x faster than byte-at-a-time).

Example — single buffer:

```c
const char *msg = "Hello, World!";
uint32_t crc = fio_crc32(msg, strlen(msg), 0);
printf("CRC32: 0x%08X\n", crc);
```

Example — incremental (multi-buffer):

```c
uint32_t crc = 0;
crc = fio_crc32("Hello, ", 7, crc);
crc = fio_crc32("World!", 6, crc);
/* crc is identical to computing over the full "Hello, World!" in one call */
```

------------------------------------------------------------
